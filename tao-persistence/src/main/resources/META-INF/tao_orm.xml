<?xml version="1.0" encoding="UTF-8" ?>
<entity-mappings xmlns="http://xmlns.jcp.org/xml/ns/persistence/orm"
                 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                 xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/persistence/orm
                 http://xmlns.jcp.org/xml/ns/persistence/orm/orm_2_2.xsd"
                 version="2.2">

    <!-- Mapped superclasses are only seen for entities (not for embeddables too) -->

    <mapped-superclass class="ro.cs.tao.eodata.EOData" access="PROPERTY">
        <attributes>
            <id name="id">
                <column name="id" nullable="false" column-definition="varchar(1000) not null"/>
            </id>
            <basic name="name">
                <column name="name" nullable="false" column-definition="varchar(250) not null"/>
            </basic>
            <basic name="userName">
                <column name="username" nullable="true" column-definition="varchar NULL"/>
            </basic>
            <basic name="formatType">
                <column name="type_id" nullable="false" column-definition="integer not null"/>
                <convert converter="ro.cs.tao.persistence.convert.DataFormatConverter" attribute-name="formatType" />
            </basic>
            <basic name="geometry">
                <column name="geometry" nullable="false" column-definition="geography(Polygon,4326) not null"/>
            </basic>
            <basic name="crs">
                <column name="coordinate_reference_system" nullable="true" column-definition="text"/>
            </basic>
            <basic name="location">
                <column name="location" nullable="false" column-definition="varchar not null"/>
            </basic>
            <basic name="entryPoint">
                <column name="entry_point" nullable="true" column-definition="varchar(1000) null"/>
            </basic>
            <basic name="visibility">
                <column name="visibility_id" nullable="true" column-definition="integer null DEFAULT 2"/>
                <convert converter="ro.cs.tao.persistence.convert.VisibilityConverter" attribute-name="visibility" />
            </basic>
            <basic name="productStatus">
                <column name="status_id" nullable="true" column-definition="integer null" />
            </basic>

            <element-collection name="attributes" target-class="ro.cs.tao.eodata.Attribute" access="PROPERTY" fetch="EAGER">
                <collection-table name="product.data_product_attributes" >
                    <join-column name="data_product_id" referenced-column-name="id" />
                </collection-table>
            </element-collection>

        </attributes>
    </mapped-superclass>

    <mapped-superclass class="ro.cs.tao.component.StringIdentifiable" access="PROPERTY">
        <attributes>
            <id name="id">
                <!-- ! IMPORTANT NOTICE:
                Because Identifiable class is extended by several other classes,
                but the mapping to a column name can be only done once (here!),
                all correspondant columns must have the same name (and definition) defined here  -->
                <column name="id" nullable="false" column-definition="varchar(512) NOT NULL" unique="true"/>
            </id>
        </attributes>
    </mapped-superclass>

    <mapped-superclass class="ro.cs.tao.component.LongIdentifiable" access="PROPERTY">
        <attributes>
            <id name="id">
                <!-- ! IMPORTANT NOTICE:
                Because Identifiable class is extended by several other classes,
                but the mapping to a column name can be only done once (here!),
                all correspondant columns must have the same name (and definition) defined here  -->
                <column name="id" nullable="false" column-definition="bigserial NOT NULL"/>
                <generated-value strategy="SEQUENCE" generator="dsc_identifier"/>
                <sequence-generator name="dsc_identifier" sequence-name="execution.user_data_source_connection_id_seq" allocation-size="1" />
            </id>
        </attributes>
    </mapped-superclass>

    <mapped-superclass class="ro.cs.tao.component.TaoComponent" access="PROPERTY">
        <attributes>
            <basic name="label">
                <column name="label" nullable="false" column-definition="varchar(250) NOT NULL"/>
            </basic>
            <basic name="version">
                <column name="version" nullable="false" column-definition="varchar(50) NOT NULL"/>
            </basic>
            <basic name="description">
                <column name="description" nullable="false" column-definition="text NOT NULL"/>
            </basic>
            <basic name="authors">
                <column name="authors" nullable="false" column-definition="varchar(1024) NOT NULL"/>
            </basic>
            <basic name="copyright">
                <column name="copyright" nullable="false" column-definition="text NOT NULL"/>
            </basic>
            <basic name="nodeAffinity">
                <column name="node_affinity" nullable="true" column-definition="varchar(250) NULL"/>
            </basic>
            <basic name="tags">
                <column name="tags" nullable="true" column-definition="text NULL"/>
                <convert converter="ro.cs.tao.persistence.convert.StringListConverter"/>
            </basic>

            <many-to-many name="sources" fetch="LAZY">
                <join-table name="component.processing_component_sources">
                    <join-column name="processing_component_id" referenced-column-name="id"/>
                    <inverse-join-column name="source_descriptor_id" referenced-column-name="id"/>
                </join-table>
                <cascade>
                    <cascade-all/>
                </cascade>
            </many-to-many>

            <many-to-many name="targets" fetch="LAZY">
                <join-table name="component.processing_component_targets">
                    <join-column name="processing_component_id" referenced-column-name="id"/>
                    <inverse-join-column name="target_descriptor_id" referenced-column-name="id"/>
                </join-table>
                <cascade>
                    <cascade-all/>
                </cascade>
            </many-to-many>
        </attributes>
    </mapped-superclass>

    <mapped-superclass class="ro.cs.tao.workflow.GraphObject" access="PROPERTY">
        <attributes>
            <basic name="name">
                <column name="name" nullable="false" column-definition="character varying(250) NULL"/>
            </basic>

            <basic name="customValues">
                <column name="custom_values" nullable="true" column-definition="json NULL"/>
                <convert converter="ro.cs.tao.persistence.convert.ParameterValueListConverter"/>
            </basic>
        </attributes>
    </mapped-superclass>

    <entity class="ro.cs.tao.eodata.EOProduct" access="PROPERTY">
        <table name="product.raster_data_product"/>
        <!-- Converter DataFormatConverter not seen in mapped superclass, therefore declared here -->
        <convert converter="ro.cs.tao.persistence.convert.DataFormatConverter" attribute-name="formatType" />
        <convert converter="ro.cs.tao.persistence.convert.SensorTypeConverter" attribute-name="sensorType" />
        <convert converter="ro.cs.tao.persistence.convert.PixelTypeConverter" attribute-name="pixelType" />
        <convert converter="ro.cs.tao.persistence.convert.VisibilityConverter" attribute-name="visibility" />
        <convert converter="ro.cs.tao.persistence.convert.ProductStatusConverter" attribute-name="productStatus"/>
        <attributes>
            <basic name="sensorType">
                <column name="sensor_type_id" nullable="false" column-definition="integer not null"/>
            </basic>
            <basic name="acquisitionDate">
                <column name="acquisition_date" nullable="false" column-definition="timestamp not null"/>
            </basic>
            <basic name="pixelType">
                <column name="pixel_type_id" nullable="false" column-definition="integer not null"/>
            </basic>
            <basic name="productType">
                <column name="product_type" nullable="false" column-definition="varchar(512) not null"/>
            </basic>
            <basic name="width">
                <column name="width" nullable="false" column-definition="integer not null"/>
            </basic>
            <basic name="height">
                <column name="height" nullable="false" column-definition="integer not null"/>
            </basic>
            <basic name="approximateSize">
                <column name="approximate_size" nullable="false" column-definition="bigint not null"/>
            </basic>
            <transient name="processingDate"/>
            <transient name="quicklookLocation" />
        </attributes>
    </entity>

    <entity class="ro.cs.tao.eodata.VectorData" access="PROPERTY">
        <table name="product.vector_data_product"/>
        <!-- Converter DataFormatConverter not seen in mapped superclass, therefore declared here -->
        <convert converter="ro.cs.tao.persistence.convert.DataFormatConverter" attribute-name="formatType" />
        <convert converter="ro.cs.tao.persistence.convert.VisibilityConverter" attribute-name="visibility" />
        <convert converter="ro.cs.tao.persistence.convert.ProductStatusConverter" attribute-name="productStatus"/>
        <attributes/>
    </entity>

    <entity class="ro.cs.tao.eodata.AuxiliaryData" access="PROPERTY">
        <table name="product.auxiliary_data"/>
        <attributes>
            <basic name="location">
                <column name="location" nullable="false" column-definition="character varying NOT NULL"/>
            </basic>
            <basic name="description">
                <column name="description" nullable="false" column-definition="character varying NOT NULL"/>
            </basic>
            <basic name="userName">
                <column name="username" nullable="false" column-definition="character varying NOT NULL"/>
            </basic>
            <basic name="created">
                <column name="created" nullable="true" column-definition="timestamp without time zone"/>
            </basic>
            <basic name="modified">
                <column name="modified" nullable="true" column-definition="timestamp without time zone"/>
            </basic>
        </attributes>
    </entity>

    <entity class="ro.cs.tao.topology.NodeDescription" access="PROPERTY">
        <table name="topology.node"/>
        <entity-listeners>
            <entity-listener class="ro.cs.tao.persistence.audit.NodeDescriptionListener"/>
        </entity-listeners>
        <convert converter="ro.cs.tao.persistence.convert.NodeTypeConverter" attribute-name="nodeType" />
        <attributes>
            <basic name="userName">
                <column name="username" nullable="false" column-definition="character varying(50) NOT NULL"/>
            </basic>
            <basic name="userPass">
                <column name="password" nullable="false" column-definition="text NOT NULL"/>
            </basic>
            <basic name="nodeType">
                <column name="type_id" nullable="false" column-definition="integer NOT NULL"/>
            </basic>
            <basic name="processorCount">
                <column name="total_cpu" nullable="false" column-definition="integer not null"/>
            </basic>
            <basic name="memorySizeGB">
                <column name="total_ram" nullable="false" column-definition="integer not null"/>
            </basic>
            <basic name="diskSpaceSizeGB">
                <column name="total_hdd" nullable="false" column-definition="integer not null"/>
            </basic>
            <basic name="description">
                <column name="description" nullable="true" column-definition="text null"/>
            </basic>
            <basic name="active">
                <column name="active" nullable="true" column-definition="boolean NULL DEFAULT true"/>
            </basic>
            <basic name="tags">
                <column name="tags" nullable="true" column-definition="text NULL"/>
                <convert converter="ro.cs.tao.persistence.convert.StringListConverter"/>
            </basic>

            <element-collection name="servicesStatus" target-class="ro.cs.tao.topology.NodeServiceStatus" access="PROPERTY" fetch="EAGER">
                <collection-table name="topology.node_service" >
                    <join-column name="host_name" referenced-column-name="id" />
                </collection-table>
            </element-collection>

        </attributes>
    </entity>

    <entity class="ro.cs.tao.topology.ServiceDescription" access="PROPERTY">
        <table name="topology.service"/>
        <attributes>
            <id name="id">
                <column name="id" nullable="false" column-definition="integer NOT NULL"/>
                <generated-value strategy="SEQUENCE" generator="service_identifier"/>
                <sequence-generator name="service_identifier" sequence-name="topology.service_id_seq" allocation-size="1" />
            </id>
            <basic name="name">
                <column name="name" nullable="false" column-definition="character varying(250) NOT NULL"/>
            </basic>
            <basic name="version">
                <column name="version" nullable="false" column-definition="character varying(50) NOT NULL"/>
            </basic>
            <basic name="description">
                <column name="description" nullable="true" column-definition="text NULL"/>
            </basic>
        </attributes>
    </entity>

    <entity class="ro.cs.tao.docker.Container" access="PROPERTY">
        <table name="component.container"/>
        <attributes>
            <basic name="name">
                <column name="name" nullable="false" column-definition="character varying(1024) NOT NULL"/>
            </basic>
            <basic name="tag">
                <column name="tag" nullable="false" column-definition="character varying(1024) NOT NULL"/>
            </basic>
            <basic name="applicationPath">
                <column name="application_path" nullable="true" column-definition="character varying(1024) NULL"/>
            </basic>
            <basic name="logo">
                <column name="logo_image" nullable="true" column-definition="character varying NULL"/>
            </basic>
            
            <element-collection name="applications" target-class="ro.cs.tao.docker.Application" access="PROPERTY" fetch="EAGER">
                <collection-table name="component.container_applications" >
                    <join-column name="container_id" referenced-column-name="id" />
                </collection-table>
            </element-collection>
        </attributes>
    </entity>

    <entity class="ro.cs.tao.component.ProcessingComponent" access="PROPERTY">
        <table name="component.processing_component"/>

        <entity-listeners>
            <entity-listener class="ro.cs.tao.persistence.audit.ProcessingComponentListener"/>
        </entity-listeners>

        <convert converter="ro.cs.tao.persistence.convert.TemplateTypeConverter" attribute-name="templateType" />
        <convert converter="ro.cs.tao.persistence.convert.ProcessingComponentVisibilityConverter" attribute-name="visibility" />
        <convert converter="ro.cs.tao.persistence.convert.ProcessingComponentTypeConverter" attribute-name="componentType" />

        <attributes>
            <basic name="fileLocation">
                <column name="main_tool_file_location" nullable="false" column-definition="character varying(512) NOT NULL"/>
            </basic>
            <basic name="workingDirectory">
                <column name="working_directory" nullable="true" column-definition="character varying(512)"/>
            </basic>
            <basic name="templateType">
                <column name="template_type_id" nullable="false" column-definition="integer not null"/>
            </basic>
            <basic name="visibility">
                <column name="visibility_id" nullable="false" column-definition="integer not null"/>
            </basic>
            <basic name="multiThread">
                <column name="multi_thread" nullable="true" column-definition="boolean NULL DEFAULT false"/>
            </basic>

            <basic name="active">
                <column name="active" nullable="true" column-definition="boolean NULL DEFAULT true"/>
            </basic>

            <basic name="componentType">
                <column name="component_type_id" nullable="true" column-definition="integer NULL DEFAULT 1"/>
            </basic>

            <basic name="containerId">
                <column name="container_id" nullable="false" column-definition="varchar(1024) NOT NULL"/>
            </basic>

            <basic name="templateContents">
                <column name="template_contents" nullable="true" column-definition="text NULL"/>
            </basic>
            
            <basic name="owner">
                <column name="owner_user" nullable="true" column-definition="varchar NULL"/>
            </basic>

            <many-to-many name="parameterDescriptors" fetch="EAGER">
                <join-table name="component.component_parameters">
                    <join-column name="processing_component_id" referenced-column-name="id"/>
                    <inverse-join-column name="processing_parameter_id" referenced-column-name="id"/>
                </join-table>
                <cascade>
                    <cascade-all/>
                </cascade>
            </many-to-many>

            <element-collection name="variables" target-class="ro.cs.tao.component.Variable" access="PROPERTY" fetch="EAGER">
                <collection-table name="component.component_variables">
                    <join-column name="processing_component_id" referenced-column-name="id" updatable="true" />
                </collection-table>
            </element-collection>

            <transient name="template" />
            <transient name="templateEngine" />
            <transient name="expandedFileLocation" />
        </attributes>
    </entity>

    <entity class="ro.cs.tao.component.GroupComponent" access="PROPERTY">
        <table name="component.group_component"/>

        <association-override name="sources">
            <join-table name="component.group_component_sources">
                <join-column name="group_component_id" referenced-column-name="id"/>
                <inverse-join-column name="source_descriptor_id" referenced-column-name="id"/>
            </join-table>
        </association-override>

        <association-override name="targets">
            <join-table name="component.group_component_targets">
                <join-column name="group_component_id" referenced-column-name="id"/>
                <inverse-join-column name="target_descriptor_id" referenced-column-name="id"/>
            </join-table>
        </association-override>

        <convert converter="ro.cs.tao.persistence.convert.ProcessingComponentVisibilityConverter" attribute-name="visibility" />

        <attributes>
            <basic name="visibility">
                <column name="visibility_id" nullable="false" column-definition="integer not null"/>
            </basic>
            <basic name="parallelism">
                <column name="parallelism" nullable="false" column-definition="integer NULL DEFAULT 1"/>
            </basic>

            <basic name="active">
                <column name="active" nullable="true" column-definition="boolean NULL DEFAULT true"/>
            </basic>

        </attributes>
    </entity>

    <entity class="ro.cs.tao.datasource.DataSourceComponentGroup" access="PROPERTY">
        <table name="component.data_source_component_group"/>

        <association-override name="sources">
            <join-table name="component.data_source_component_group_sources">
                <join-column name="data_source_component_group_id" referenced-column-name="id"/>
                <inverse-join-column name="source_descriptor_id" referenced-column-name="id"/>
            </join-table>
        </association-override>

        <association-override name="targets">
            <join-table name="component.data_source_component_group_targets">
                <join-column name="data_source_component_group_id" referenced-column-name="id"/>
                <inverse-join-column name="target_descriptor_id" referenced-column-name="id"/>
            </join-table>
        </association-override>

        <convert converter="ro.cs.tao.persistence.convert.ProcessingComponentVisibilityConverter" attribute-name="visibility" />

        <attributes>
            <basic name="userName">
                <column name="username" nullable="false" column-definition="character varying not null"/>
            </basic>
            <basic name="visibility">
                <column name="visibility_id" nullable="false" column-definition="integer not null"/>
            </basic>
            <basic name="parallelism">
                <column name="parallelism" nullable="false" column-definition="integer NULL DEFAULT 1"/>
            </basic>
            <basic name="active">
                <column name="active" nullable="true" column-definition="boolean NULL DEFAULT true"/>
            </basic>
            <many-to-many name="dataSourceComponents" fetch="EAGER">
                <join-table name="component.data_source_component_group_components">
                    <join-column name="data_source_component_group_id" referenced-column-name="id"/>
                    <inverse-join-column name="data_source_component_id" referenced-column-name="id"/>
                </join-table>
                <cascade>
                    <cascade-all/>
                </cascade>
            </many-to-many>

            <many-to-many name="dataSourceQueries" fetch="LAZY">
                <join-table name="component.data_source_component_group_queries">
                    <join-column name="data_source_component_group_id" referenced-column-name="id"/>
                    <inverse-join-column name="query_id" referenced-column-name="id"/>
                </join-table>
                <cascade>
                    <cascade-all/>
                </cascade>
            </many-to-many>
        </attributes>
    </entity>

    <entity class="ro.cs.tao.component.ParameterDescriptor" access="PROPERTY">
        <table name="component.processing_parameter"/>
        <!-- set inheritance to single table, since TemplateParameterDescriptor inherits from ParameterDescriptor -->
        <inheritance strategy="SINGLE_TABLE"/>

        <!-- avoid default DTYPE -->
        <discriminator-column name="discriminator" column-definition="integer NOT NULL" discriminator-type="INTEGER"/>

        <convert converter="ro.cs.tao.persistence.convert.ParameterTypeConverter" attribute-name="type" />
        <convert converter="ro.cs.tao.persistence.convert.DataTypeConverter" attribute-name="dataType" />
        <convert converter="ro.cs.tao.persistence.convert.StringArrayToStringConverter" attribute-name="valueSet" />
        <attributes>
            <basic name="name">
                <column name="name" nullable="false" column-definition="varchar(512 NOT NULL"/>
            </basic>
            <basic name="type">
                <column name="type_id" nullable="false" column-definition="integer NOT NULL"/>
            </basic>
            <basic name="dataType">
                <column name="data_type" nullable="false" column-definition="varchar(512) NOT NULL"/>
            </basic>
            <basic name="defaultValue">
                <column name="default_value" nullable="true" column-definition="varchar(250) NULL"/>
            </basic>
            <basic name="description">
                <column name="description" nullable="true" column-definition="text NULL"/>
            </basic>
            <basic name="label">
                <column name="label" nullable="false" column-definition="varchar(512) NOT NULL"/>
            </basic>
            <basic name="unit">
                <column name="unit" nullable="true" column-definition="varchar(250) NULL"/>
            </basic>
            <basic name="valueSet">
                <column name="value_set" nullable="true" column-definition="text NULL"/>
            </basic>
            <basic name="format">
                <column name="format" nullable="true" column-definition="varchar(250) NULL"/>
            </basic>
            <basic name="notNull">
                <column name="not_null" nullable="true" column-definition="boolean NULL"/>
            </basic>

            <element-collection name="dependencies" target-class="ro.cs.tao.component.ParameterDependency" access="PROPERTY" fetch="LAZY">
                <collection-table name="component.processing_parameter_dependencies">
                    <join-column name="parameter_id" referenced-column-name="id"/>
                </collection-table>
            </element-collection>

            <transient name="validator" />
        </attributes>

    </entity>

    <entity class="ro.cs.tao.component.TemplateParameterDescriptor" access="PROPERTY">
        <!-- no need to specify the table here, since TemplateParameterDescriptor inherits ParameterDescriptor;
             TemplateParameterDescriptor is a subclass of a SINGLE_TABLE hierarchy -->
        <!--<table name="tao.processing_parameter"/>-->

        <!-- any other value than 937389016 (set by JPA for the base class); e.g 2 - see tao.parameter_type identifier for TemplateParameter -->
        <discriminator-value>2</discriminator-value>

        <attributes>
            <many-to-many name="parameters" fetch="EAGER">
                <join-table name="component.template_parameter_parameters">
                    <join-column name="template_parameter_id" referenced-column-name="id"/>
                    <inverse-join-column name="regular_parameter_id" referenced-column-name="id"/>
                </join-table>
                <cascade>
                    <cascade-all/>
                </cascade>
            </many-to-many>

            <transient name="template"/>
            <transient name="templateEngine"/>
        </attributes>

    </entity>

    <entity class="ro.cs.tao.datasource.DataSourceComponent" access="PROPERTY">
        <table name="component.data_source_component"/>

        <association-override name="sources">
            <join-table name="component.data_source_component_sources">
                <join-column name="data_source_component_id" referenced-column-name="id"/>
                <inverse-join-column name="source_descriptor_id" referenced-column-name="id"/>
            </join-table>
        </association-override>

        <association-override name="targets">
            <join-table name="component.data_source_component_targets">
                <join-column name="data_source_component_id" referenced-column-name="id"/>
                <inverse-join-column name="target_descriptor_id" referenced-column-name="id"/>
            </join-table>
        </association-override>

        <convert converter="ro.cs.tao.persistence.convert.FetchModeConverter" attribute-name="fetchMode" />
        <!--<convert converter="ro.cs.tao.persistence.convert.ParameterListConverter" attribute-name="overriddenParameters" />-->

        <attributes>
            <basic name="sensorName">
                <column name="sensor_name" nullable="false" column-definition="character varying(1024) NOT NULL"/>
            </basic>
            <basic name="dataSourceName">
                <column name="data_source_name" nullable="false" column-definition="character varying(512) NOT NULL"/>
            </basic>
            <basic name="fetchMode">
                <column name="fetch_mode_id" nullable="false" column-definition="integer NOT NULL"/>
            </basic>
            <basic name="maxRetries">
                <column name="max_retries" nullable="true" column-definition="integer NULL DEFAULT 3"/>
            </basic>
            <basic name="system">
                <column name="is_system" nullable="false" column-definition="boolean NOT NULL DEFAULT false"/>
            </basic>

            <transient name="userName"/>
            <transient name="password"/>
            <transient name="overriddenParameters"/>
            <transient name="currentProduct"/>
        </attributes>
    </entity>

    <entity class="ro.cs.tao.execution.model.DataSourceConnection" access="PROPERTY">
        <table name="execution.user_data_source_connection"/>
        <attributes>
            <basic name="userId">
                <column name="user_id" nullable="false" column-definition="varchar(50) NOT NULL"/>
            </basic>
            <basic name="dataSource">
                <column name="data_source_id" nullable="false" column-definition="varchar(512) NOT NULL"/>
            </basic>
            <basic name="userName">
                <column name="username" nullable="true" column-definition="varchar(50) NOT NULL"/>
            </basic>
            <basic name="password">
                <column name="password" nullable="true" column-definition="text NOT NULL"/>
            </basic>
            <basic name="created">
                <column name="created" nullable="true" column-definition="timestamp without time zone DEFAULT now()"/>
            </basic>
            <basic name="modified">
                <column name="modified" nullable="true" column-definition="timestamp without time zone DEFAULT now()"/>
            </basic>
        </attributes>
    </entity>

    <entity class="ro.cs.tao.execution.model.ExecutionTask" access="PROPERTY">
        <table name="execution.task"/>
        <!-- set inheritance to single table, since ExecutionGroup           inherits from ExecutionTask,
                                                    ProcessingExecutionTask  inherits from ExecutionTask,
                                                    DataSourceExecutionTask  inherits from ExecutionTask-->
        <inheritance strategy="SINGLE_TABLE"/>

        <!-- define discriminator in root class, avoid default DTYPE -->
        <discriminator-column name="discriminator" column-definition="integer NOT NULL" discriminator-type="INTEGER"/>

        <convert converter="ro.cs.tao.persistence.convert.ExecutionStatusConverter" attribute-name="executionStatus" />
        <attributes>
            <basic name="resourceId">
                <column name="resource_id" nullable="true" column-definition="character varying(512) NULL"/>
            </basic>
            <basic name="executionStatus">
                <column name="execution_status_id" nullable="false" column-definition="integer NOT NULL"/>
            </basic>
            <basic name="lastUpdated">
                <column name="last_updated" nullable="true" column-definition="timestamp without time zone NULL"/>
            </basic>
            <basic name="executionNodeHostName">
                <column name="execution_node_host_name" nullable="true" column-definition="character varying(250) NULL"/>
            </basic>
            <basic name="startTime">
                <column name="start_time" nullable="true" column-definition="timestamp without time zone NULL"/>
            </basic>
            <basic name="endTime">
                <column name="end_time" nullable="true" column-definition="timestamp without time zone NULL"/>
            </basic>
            <basic name="internalState">
                <column name="internal_state" nullable="true" column-definition="character varying(512) NULL"/>
            </basic>
            <basic name="workflowNodeId">
                <column name="graph_node_id" nullable="false" column-definition="bigint NOT NULL"/>
            </basic>
            <basic name="instanceId">
                <column name="instance_id" nullable="false" column-definition="integer NOT NULL"/>
            </basic>
            <basic name="level">
                <column name="execution_level" nullable="false" column-definition="integer NOT NULL"/>
            </basic>
            <basic name="log">
                <column name="execution_log" nullable="true" column-definition="varchar NULL"/>
            </basic>

            <many-to-one name="job" fetch="LAZY">
                <join-column name="job_id" nullable="true"/>
            </many-to-one>

            <many-to-one name="groupTask" fetch="LAZY">
                <join-column name="task_group_id" nullable="true"/>
            </many-to-one>

            <element-collection name="inputParameterValues" target-class="ro.cs.tao.component.Variable" access="PROPERTY" fetch="EAGER">
                <collection-table name="execution.task_input">
                    <join-column name="task_id" referenced-column-name="id" />
                    <unique-constraint>
                        <column-name>task_id</column-name>
                        <column-name>key</column-name>
                    </unique-constraint>
                </collection-table>
            </element-collection>

            <element-collection name="outputParameterValues" target-class="ro.cs.tao.component.Variable" access="PROPERTY" fetch="LAZY">
                <collection-table name="execution.task_output">
                    <join-column name="task_id" referenced-column-name="id" />
                    <unique-constraint>
                        <column-name>task_id</column-name>
                        <column-name>key</column-name>
                    </unique-constraint>
                </collection-table>
            </element-collection>
    
            <transient name="stateHandler" />
            <transient name="context" />
            
        </attributes>
    </entity>

    <entity class="ro.cs.tao.execution.model.ProcessingExecutionTask" access="PROPERTY">

        <discriminator-value>11</discriminator-value>

        <attributes>
            <many-to-one name="component" fetch="LAZY" target-entity="ro.cs.tao.component.ProcessingComponent">
                <join-column name="component_id" nullable="false"/>
            </many-to-one>
            <transient name="instanceTargetOutput"/>
        </attributes>
    </entity>

    <entity class="ro.cs.tao.execution.model.DataSourceExecutionTask" access="PROPERTY">

        <discriminator-value>31</discriminator-value>

        <attributes>
            <many-to-one name="component" fetch="LAZY" target-entity="ro.cs.tao.datasource.DataSourceComponent">
                <join-column name="component_id" nullable="false"/>
            </many-to-one>
        </attributes>
    </entity>

    <entity class="ro.cs.tao.execution.model.ExecutionGroup" access="PROPERTY">

        <!-- any other value than 937389016 (set by JPA for the base class); e.g 13  -->
        <discriminator-value>13</discriminator-value>

        <attributes>
            <many-to-many name="tasks" fetch="LAZY"> <!-- target-entity="ro.cs.tao.execution.model.ProcessingExecutionTask">-->
                <join-table name="execution.task_group">
                    <join-column name="group_id" referenced-column-name="id"/>
                    <inverse-join-column name="task_id" referenced-column-name="id"/>
                </join-table>
                <cascade>
                    <cascade-all/>
                </cascade>
            </many-to-many>
        </attributes>
    </entity>

    <entity class="ro.cs.tao.execution.model.ExecutionJob" access="PROPERTY">
        <table name="execution.job"/>
        <convert converter="ro.cs.tao.persistence.convert.ExecutionStatusConverter" attribute-name="executionStatus" />
        <attributes>
            <basic name="name">
                <column name="name" nullable="false" column-definition="text not null"/>
            </basic>
            <basic name="executionStatus">
                <column name="execution_status_id" nullable="false" column-definition="integer not null"/>
            </basic>
            <basic name="startTime">
                <column name="start_time" nullable="true" column-definition="timestamp NULL"/>
            </basic>
            <basic name="endTime">
                <column name="end_time" nullable="true" column-definition="timestamp NULL"/>
            </basic>
            <basic name="workflowId">
                <column name="workflow_id" nullable="false" column-definition="bigint NOT NULL"/>
            </basic>
            <basic name="queryId">
                <column name="query_id" nullable="true" column-definition="varchar(512) NULL"/>
            </basic>
            <basic name="userName">
                <column name="username" nullable="false" column-definition="character varying(50) NOT NULL"/>
            </basic>

            <one-to-many name="tasks" fetch="EAGER" mapped-by="job" />
        </attributes>
    </entity>

    <entity class="ro.cs.tao.messaging.Message" access="PROPERTY">
        <table name="common.notification"/>
        <attributes>
            <id name="timestamp">
                <column name="timestamp" nullable="false" column-definition="bigint NOT NULL"/>
            </id>
            <basic name="topic">
                <column name="topic" nullable="false" column-definition="character varying NOT NULL"/>
            </basic>
            <basic name="user">
                <column name="username" nullable="false" column-definition="character varying NOT NULL"/>
            </basic>
            <basic name="read">
                <column name="read" nullable="true" column-definition="boolean NULL"/>
            </basic>
            <basic name="data">
                <column name="data" nullable="false" column-definition="character varying NOT NULL"/>
            </basic>
            <transient name="message"/>
            <transient name="persistent"/>
        </attributes>
    </entity>

    <entity class="ro.cs.tao.workflow.WorkflowDescriptor" access="PROPERTY">
        <table name="workflow.graph"/>
        <convert converter="ro.cs.tao.persistence.convert.WorkflowGraphStatusConverter" attribute-name="status" />
        <convert converter="ro.cs.tao.persistence.convert.VisibilityConverter" attribute-name="visibility" />
        <convert converter="ro.cs.tao.persistence.convert.StringListConverter" attribute-name="tags"/>
        <attributes>
            <basic name="userName">
                <column name="username" nullable="false" column-definition="character varying(50) NOT NULL"/>
            </basic>
            <basic name="path">
                <column name="definition_path" nullable="true" column-definition="character varying(512) NULL"/>
            </basic>
            <basic name="status">
                <column name="status_id" nullable="false" column-definition="integer NOT NULL"/>
            </basic>
            <basic name="visibility">
                <column name="visibility_id" nullable="false" column-definition="integer NOT NULL"/>
            </basic>
            <basic name="active">
                <column name="active" nullable="true" column-definition="boolean NULL DEFAULT true"/>
            </basic>
            <basic name="xCoord">
                <column name="xCoord" nullable="true" column-definition="real NULL"/>
            </basic>
            <basic name="yCoord">
                <column name="yCoord" nullable="true" column-definition="real NULL"/>
            </basic>
            <basic name="zoom">
                <column name="zoom" nullable="true" column-definition="real NULL"/>
            </basic>
            <basic name="tags">
                <column name="tags" nullable="true" column-definition="text NULL"/>
            </basic>
            <one-to-many name="nodes" target-entity="ro.cs.tao.workflow.WorkflowNodeDescriptor"
                         fetch="EAGER" access="FIELD" orphan-removal="true"
                         mapped-by="workflow">
                <cascade>
                    <cascade-all/>
                </cascade>
            </one-to-many>

            <transient name="orderedNodes"/>

        </attributes>
    </entity>


    <entity class="ro.cs.tao.workflow.WorkflowNodeDescriptor" access="PROPERTY">
        <table name="workflow.graph_node"/>
        <!-- set inheritance to single table, since WorkflowNodeGroupDescriptor inherits from WorkflowNodeDescriptor -->
        <inheritance strategy="SINGLE_TABLE"/>
        <!-- avoid default DTYPE -->
        <discriminator-column name="discriminator" column-definition="integer NOT NULL" discriminator-type="INTEGER"/>

        <!--<entity-listeners>
            <entity-listener class="ro.cs.tao.persistence.audit.WorkflowNodeListener"/>
        </entity-listeners>-->

        <convert converter="ro.cs.tao.persistence.convert.ComponentTypeConverter" attribute-name="componentType"/>
        <convert converter="ro.cs.tao.persistence.convert.TransitionBehaviorConverter" attribute-name="behavior"/>
        <attributes>
            <basic name="componentId">
                <column name="component_id" nullable="false" column-definition="integer NOT NULL"/>
            </basic>
            <basic name="componentType">
                <column name="component_type_id" nullable="false" column-definition="smallint NOT NULL"/>
            </basic>
            <basic name="xCoord">
                <column name="xCoord" nullable="true" column-definition="real NULL"/>
            </basic>
            <basic name="yCoord">
                <column name="yCoord" nullable="true" column-definition="real NULL"/>
            </basic>
            <basic name="level">
                <column name="node_level" nullable="false" column-definition="integer NOT NULL"/>
            </basic>
            <basic name="behavior">
                <column name="behavior_id" nullable="true" column-definition="integer NULL DEFAULT 1"/>
            </basic>
            <basic name="preserveOutput">
                <column name="preserve_output" nullable="true" column-definition="boolean NULL DEFAULT true"/>
            </basic>
            <many-to-one name="workflow" fetch="LAZY">
                <join-column name="workflow_id" referenced-column-name="id" nullable="false"/>
            </many-to-one>

            <element-collection name="incomingLinks" target-class="ro.cs.tao.component.ComponentLink" access="PROPERTY" fetch="LAZY">
                <collection-table name="workflow.component_link">
                    <join-column name="target_graph_node_id" referenced-column-name="id"/>
                </collection-table>
            </element-collection>
        </attributes>
    </entity>


    <entity class="ro.cs.tao.workflow.WorkflowNodeGroupDescriptor" access="PROPERTY">
        <!-- no need to specify the table here, since WorkflowNodeGroupDescriptor inherits WorkflowNodeDescriptor;
             WorkflowNodeGroupDescriptor is a subclass of a SINGLE_TABLE hierarchy -->

        <!-- any other value than 937389016 (set by JPA for the base class); e.g 7  -->
        <discriminator-value>7</discriminator-value>

        <attributes>
            <many-to-many name="nodes" fetch="EAGER">
                <join-table name="workflow.graph_node_group_nodes">
                    <join-column name="graph_node_group_id" referenced-column-name="id"/>
                    <inverse-join-column name="graph_node_id" referenced-column-name="id"/>
                </join-table>
                <cascade>
                    <cascade-all/>
                </cascade>
            </many-to-many>

            <transient name="orderedNodes"/>
        </attributes>

    </entity>


    <entity class="ro.cs.tao.component.SourceDescriptor" access="PROPERTY">
        <table name="component.source_descriptor"/>
        <convert converter="ro.cs.tao.persistence.convert.ConstraintsConverter" attribute-name="constraints"/>
        <attributes>
            <basic name="parentId">
                <column name="parent_id" nullable="false" column-definition="varchar(512) NOT NULL"/>
            </basic>
            <basic name="name">
                <column name="name" nullable="false" column-definition="varchar(512) NOT NULL"/>
            </basic>
            <basic name="cardinality">
                <column name="cardinality" nullable="false" column-definition="integer NOT NULL"/>
            </basic>
            <basic name="constraints">
                <column name="constraints" nullable="true" column-definition="text NULL"/>
            </basic>

            <embedded name="dataDescriptor" />

        </attributes>
    </entity>

    <entity class="ro.cs.tao.component.TargetDescriptor" access="PROPERTY">
        <table name="component.target_descriptor"/>
        <convert converter="ro.cs.tao.persistence.convert.ConstraintsConverter" attribute-name="constraints"/>
        <attributes>
            <basic name="parentId">
                <column name="parent_id" nullable="false" column-definition="varchar(512) NOT NULL"/>
            </basic>
            <basic name="name">
                <column name="name" nullable="false" column-definition="varchar(512) NOT NULL"/>
            </basic>
            <basic name="cardinality">
                <column name="cardinality" nullable="false" column-definition="integer NOT NULL"/>
            </basic>
            <basic name="constraints">
                <column name="constraints" nullable="true" column-definition="text NULL"/>
            </basic>

            <embedded name="dataDescriptor" />

        </attributes>
    </entity>
    
    <entity class="ro.cs.tao.datasource.beans.Query" access="PROPERTY">
        <table name="workflow.query"/>
        <entity-listeners>
            <entity-listener class="ro.cs.tao.persistence.audit.QueryListener"/>
        </entity-listeners>
        <convert converter="ro.cs.tao.persistence.convert.QueryValuesMapConverter" attribute-name="values"/>
        <attributes>
            <id name="id">
                <column name="id" nullable="false" column-definition="bigserial NOT NULL"/>
                <generated-value strategy="SEQUENCE" generator="query_identifier"/>
                <sequence-generator name="query_identifier" sequence-name="workflow.query_id_seq" allocation-size="1" />
            </id>
            <basic name="label">
                <column name="label" nullable="true" column-definition="text"/>
            </basic>
            <basic name="userId">
                <column name="user_id" nullable="false" column-definition="integer NOT NULL"/>
            </basic>
            <basic name="workflowNodeId">
                <column name="graph_node_id" nullable="true" column-definition="bigint"/>
            </basic>
            <basic name="componentId">
                <column name="component_id" nullable="true" column-definition="varchar(512)"/>
            </basic>
            <basic name="sensor">
                <column name="sensor_name" nullable="false" column-definition="varchar(1024) NOT NULL"/>
            </basic>
            <basic name="dataSource">
                <column name="data_source" nullable="false" column-definition="varchar(512) NOT NULL"/>
            </basic>
            <basic name="user">
                <column name="username" nullable="true" column-definition="character varying(512) NULL"/>
            </basic>
            <basic name="password">
                <column name="password" nullable="true" column-definition="varchar NULL"/>
            </basic>
            <basic name="pageSize">
                <column name="page_size" nullable="true" column-definition="integer NULL"/>
            </basic>
            <basic name="pageNumber">
                <column name="page_number" nullable="true" column-definition="integer NULL"/>
            </basic>
            <basic name="limit">
                <column name="_limit" nullable="true" column-definition="integer NULL"/>
            </basic>
            <basic name="values">
                <column name="values" nullable="true" column-definition="json NULL"/>
            </basic>
            <basic name="created">
                <column name="created" nullable="true" column-definition="timestamp NULL default now()"/>
            </basic>
            <basic name="modified">
                <column name="modified" nullable="true" column-definition="timestamp NULL"/>
            </basic>
            <transient name="groupId"/>
            <transient name="groupLabel"/>
        </attributes>
    </entity>

    <entity class="ro.cs.tao.user.User" access="PROPERTY">
        <table name="usr.user"/>
        <convert converter="ro.cs.tao.persistence.convert.UserStatusConverter" attribute-name="status" />
        <attributes>
            <id name="id">
                <column name="id" nullable="false" column-definition="serial NOT NULL"/>
                <generated-value strategy="SEQUENCE" generator="user_identifier"/>
                <sequence-generator name="user_identifier" sequence-name="usr.user_id_seq" allocation-size="1" />
            </id>
            <basic name="username">
                <column name="username" nullable="false" column-definition="character varying(50) NOT NULL"/>
            </basic>
            <basic name="password">
                <column name="password" nullable="true" column-definition="text NULL"/>
            </basic>
            <basic name="email">
                <column name="email" nullable="false" column-definition="character varying(100) NOT NULL"/>
            </basic>
            <basic name="alternativeEmail">
                <column name="alternative_email" nullable="true" column-definition="character varying(100)"/>
            </basic>
            <basic name="lastName">
                <column name="last_name" nullable="false" column-definition="character varying(50) NOT NULL"/>
            </basic>
            <basic name="firstName">
                <column name="first_name" nullable="false" column-definition="character varying(50) NOT NULL"/>
            </basic>
            <basic name="phone">
                <column name="phone" nullable="true" column-definition="character varying(50)"/>
            </basic>
            <basic name="lastLoginDate">
                <column name="last_login_date" nullable="true" column-definition="timestamp without time zone"/>
            </basic>
            <basic name="quota">
                <column name="quota" nullable="false" column-definition="real NOT NULL"/>
            </basic>
            <basic name="organization">
                <column name="organization" nullable="false" column-definition="character varying(255) NOT NULL"/>
            </basic>
            <basic name="status">
                <column name="status_id" nullable="false" column-definition="integer NOT NULL"/>
            </basic>
            <basic name="external">
                <column name="external" nullable="true" column-definition="boolean NULL DEFAULT false"/>
            </basic>
            <basic name="passwordResetKey">
                <column name="password_reset_key" nullable="true" column-definition="character varying(255) NULL"/>
            </basic>

            <many-to-many name="groups" fetch="LAZY">
                <join-table name="usr.user_group">
                    <join-column name="user_id" referenced-column-name="id"/>
                    <inverse-join-column name="group_id" referenced-column-name="id"/>
                </join-table>
                <cascade>
                    <cascade-merge/>
                </cascade>
            </many-to-many>

            <element-collection name="preferences" target-class="ro.cs.tao.user.UserPreference" access="PROPERTY" fetch="EAGER">
                <collection-table name="usr.user_prefs">
                    <join-column name="user_id" referenced-column-name="id" updatable="true" />
                </collection-table>
            </element-collection>
        </attributes>
    </entity>

    <entity class="ro.cs.tao.Tag" access="PROPERTY">
        <table name="common.tag"/>
        <convert converter="ro.cs.tao.persistence.convert.TagTypeConverter" attribute-name="tagType"/>
        <attributes>
            <id name="id">
                <column name="id" nullable="false" column-definition="bigserial NOT NULL"/>
                <generated-value strategy="IDENTITY" generator="group_identifier"/>
                <!--<sequence-generator name="group_identifier" sequence-name="common.tag_id_seq" allocation-size="1" />-->
            </id>
            <basic name="tagType">
                <column name="tag_type_id" nullable="false" column-definition="integer NOT NULL"/>
            </basic>
            <basic name="text">
                <column name="tag" nullable="false" column-definition="text NOT NULL"/>
            </basic>
        </attributes>
    </entity>
    
    <entity class="ro.cs.tao.user.Group" access="PROPERTY">
        <table name="usr.grp"/>
        <attributes>
            <id name="id">
                <column name="id" nullable="false" column-definition="serial NOT NULL"/>
                <generated-value strategy="SEQUENCE" generator="group_identifier"/>
                <sequence-generator name="group_identifier" sequence-name="usr.group_id_seq" allocation-size="1" />
            </id>
            <basic name="name">
                <column name="name" nullable="false" column-definition="character varying(50) NOT NULL"/>
            </basic>
        </attributes>
    </entity>

    <entity class="ro.cs.tao.eodata.naming.NamingRule" access="PROPERTY">
        <table name="product.naming_rule"/>
        <attributes>
            <id name="id">
                <column name="id" nullable="false" column-definition="integr NOT NULL"/>
                <generated-value strategy="SEQUENCE" generator="rule_identifier"/>
                <sequence-generator name="rule_identifier" sequence-name="product.naming_rule_id_seq" allocation-size="1"/>
            </id>
            <basic name="sensor">
                <column name="sensor" nullable="false" column-definition="varchar(50) NOT NULL"/>
            </basic>
            <basic name="regEx">
                <column name="regex" nullable="false" column-definition="varchar(512) NOT NULL"/>
            </basic>
            <basic name="description">
                <column name="description" nullable="false" column-definition="varchar(100) NOT NULL"/>
            </basic>
            <element-collection name="tokens" target-class="ro.cs.tao.eodata.naming.NameToken" access="PROPERTY" fetch="EAGER">
                <collection-table name="product.naming_rule_token">
                    <join-column name="naming_rule_id" referenced-column-name="id"/>
                </collection-table>
            </element-collection>
        </attributes>
    </entity>

    <embeddable class="ro.cs.tao.eodata.Attribute" access="PROPERTY">
        <attributes>
            <basic name="name">
                <column name="name" nullable="false" column-definition="character varying(1000) NOT NULL"/>
            </basic>
            <basic name="value">
                <column name="value" nullable="false" column-definition="text NOT NULL"/>
            </basic>
        </attributes>
    </embeddable>

    <embeddable class="ro.cs.tao.component.Variable" access="PROPERTY">
        <attributes>
            <basic name="key">
                <column name="key" nullable="false" column-definition="varchar(512) NOT NULL"/>
            </basic>
            <basic name="value">
                <column name="value" nullable="false" column-definition="varchar(512) NOT NULL"/>
            </basic>
        </attributes>
    </embeddable>

    <embeddable class="ro.cs.tao.topology.NodeServiceStatus" access="PROPERTY">
        <attributes>
            <basic name="status">
                <column name="service_status_id" nullable="false" column-definition="integer NOT NULL"/>
                <convert converter="ro.cs.tao.persistence.convert.ServiceStatusConverter" attribute-name="status" />
            </basic>
            <many-to-one name="serviceDescription" fetch="LAZY">
                <join-column name="service_id" nullable="false"/>
            </many-to-one>
        </attributes>
    </embeddable>

    <embeddable class="ro.cs.tao.docker.Application" access="PROPERTY">
        <attributes>
            <basic name="name">
                <column name="name" nullable="false" column-definition="varchar(1024) NOT NULL"/>
            </basic>
            <basic name="path">
                <column name="path" nullable="true" column-definition="varchar(1024) NULL"/>
            </basic>
            <basic name="parallelFlagTemplate">
                <column name="parallel_flag" nullable="true" column-definition="varchar(50) NULL" />
            </basic>
            <basic name="memoryRequirements">
                <column name="memory" nullable="true" column-definition="integer NULL" />
            </basic>
        </attributes>
    </embeddable>

    <embeddable class="ro.cs.tao.workflow.ParameterValue" access="PROPERTY">
        <attributes>
            <basic name="parameterName">
                <column name="name" nullable="false" column-definition="character varying(512) NOT NULL"/>
            </basic>
            <basic name="parameterValue">
                <column name="value" nullable="false" column-definition="text NOT NULL"/>
            </basic>
        </attributes>
    </embeddable>

    <embeddable class="ro.cs.tao.component.DataDescriptor" access="PROPERTY">
        <attributes>
            <basic name="formatType">
                <column name="data_format_id" nullable="false" column-definition="integer NOT NULL"/>
                <convert converter="ro.cs.tao.persistence.convert.DataFormatConverter" attribute-name="formatType" />
            </basic>
            <basic name="geometry">
                <column name="geometry" nullable="true" column-definition="geography(POLYGON, 4326) NULL"/>
            </basic>
            <basic name="crs">
                <column name="coordinate_reference_system" nullable="true" column-definition="text NULL"/>
            </basic>
            <basic name="sensorType">
                <column name="sensor_type_id" nullable="true" column-definition="integer NULL"/>
                <convert converter="ro.cs.tao.persistence.convert.SensorTypeConverter" attribute-name="sensorType" />
            </basic>

            <basic name="dimension">
                <column name="dimension" nullable="true" column-definition="json NULL"/>
                <convert converter="ro.cs.tao.persistence.convert.DimensionConverter" />
            </basic>

            <basic name="location">
                <column name="location" nullable="true" column-definition="varchar NULL"/>
            </basic>
        </attributes>
    </embeddable>

    <embeddable class="ro.cs.tao.component.ComponentLink" access="PROPERTY">
        <attributes>
            <basic name="aggregator">
                <column name="aggregator" nullable="true" column-definition="varchar(512)"/>
                <convert converter="ro.cs.tao.persistence.convert.AggregatorConverter" attribute-name="aggregator"/>
            </basic>
            <basic name="sourceNodeId" fetch="EAGER">
                <column name="source_graph_node_id" nullable="false"/>
            </basic>
            <many-to-one name="output" fetch="EAGER">
                <join-column name="source_descriptor_id" nullable="false"/>
                <cascade>
                    <cascade-merge/>
                </cascade>
            </many-to-one>
            <many-to-one name="input" fetch="EAGER">
                <join-column name="target_descriptor_id" nullable="false"/>
                <cascade>
                    <cascade-merge/>
                </cascade>
            </many-to-one>
        </attributes>
    </embeddable>

    <embeddable class="ro.cs.tao.component.ParameterDependency" access="PROPERTY">
        <attributes>
            <basic name="expectedValue">
                <column name="dependant_parameter_value" nullable="true" column-definition="varchar(250) NULL"/>
            </basic>
            <basic name="condition">
                <column name="dependency_condition_id" nullable="false" column-definition="integer NOT NULL"/>
                <convert converter="ro.cs.tao.persistence.convert.ConditionConverter" attribute-name="condition"/>
            </basic>
            <basic name="referencedParameterId">
                <column name="dependant_parameter_id" nullable="false" column-definition="varchar(512) NOT NULL" />
            </basic>
        </attributes>
    </embeddable>

    <embeddable class="ro.cs.tao.user.UserPreference" access="PROPERTY">
        <attributes>
            <basic name="key">
                <column name="pref_key" nullable="false" column-definition="varchar(50) NOT NULL"/>
            </basic>
            <basic name="value">
                <column name="pref_value" nullable="false" column-definition="varchar(250) NOT NULL"/>
            </basic>
        </attributes>
    </embeddable>

    <embeddable class="ro.cs.tao.eodata.naming.NameToken" access="PROPERTY">
        <attributes>
            <basic name="name">
                <column name="token_name" nullable="false" column-definition="varchar(20) NOT NULL"/>
            </basic>
            <basic name="matchingGroupNumber">
                <column name="matching_group_number" nullable="false" column-definition="integer NOT NULL"/>
            </basic>
            <basic name="description">
                <column name="description" nullable="false" column-definition="varchar(100) NOT NULL"/>
            </basic>
        </attributes>
    </embeddable>

    <converter class="ro.cs.tao.persistence.convert.TemplateTypeConverter" />
    <converter class="ro.cs.tao.persistence.convert.ProcessingComponentVisibilityConverter" />
    <converter class="ro.cs.tao.persistence.convert.ProcessingComponentTypeConverter" />
    <converter class="ro.cs.tao.persistence.convert.ExecutionStatusConverter" />
    <converter class="ro.cs.tao.persistence.convert.ParameterTypeConverter" />
    <converter class="ro.cs.tao.persistence.convert.PixelTypeConverter" />
    <converter class="ro.cs.tao.persistence.convert.SensorTypeConverter" />
    <converter class="ro.cs.tao.persistence.convert.DataTypeConverter" />
    <converter class="ro.cs.tao.persistence.convert.StringArrayToStringConverter" />
    <converter class="ro.cs.tao.persistence.convert.DataFormatConverter" />
    <converter class="ro.cs.tao.persistence.convert.ServiceStatusConverter" />
    <converter class="ro.cs.tao.persistence.convert.WorkflowGraphStatusConverter" />
    <converter class="ro.cs.tao.persistence.convert.VisibilityConverter" />
    <converter class="ro.cs.tao.persistence.convert.ConstraintsConverter" />
    <converter class="ro.cs.tao.persistence.convert.DimensionConverter" />
    <converter class="ro.cs.tao.persistence.convert.ParameterValueListConverter"/>
    <converter class="ro.cs.tao.persistence.convert.QueryValuesMapConverter"/>
    <converter class="ro.cs.tao.persistence.convert.UserStatusConverter"/>
    <converter class="ro.cs.tao.persistence.convert.ConditionConverter" />
    <converter class="ro.cs.tao.persistence.convert.StringListConverter" />
    <converter class="ro.cs.tao.persistence.convert.TagTypeConverter" />
    <converter class="ro.cs.tao.persistence.convert.ProductStatusConverter" />
    <converter class="ro.cs.tao.persistence.convert.AggregatorConverter" />
    <converter class="ro.cs.tao.persistence.convert.NodeTypeConverter" />

</entity-mappings>